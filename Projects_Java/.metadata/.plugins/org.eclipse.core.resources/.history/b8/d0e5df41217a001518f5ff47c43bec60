package onepager;

import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;
import java.time.LocalDateTime;
import java.time.temporal.ChronoUnit;

public class OneInAll {
	public class Student{
		String name;
		int age;
		boolean is_in = false;
		boolean been_there = false;
		LocalDateTime time_in;
		LocalDateTime time_out;
		LocalDateTime time_there;
		long minutes;
		long hours;
		
		public void info(){
			Map<String, String> myMap = new HashMap<String, String>();
			if(been_there){
				myMap.put("In: ", time_in.toString());
				if(is_in){
					myMap.put("Status for " + name + " age of " + age + " is: ","In Class");
				} else {
					myMap.put("Out: ", time_out.toString());
					myMap.put("Status for " + name + " age of " + age + " is: ","Elvis has left the building");
					minutes = ChronoUnit.MINUTES.between(time_in, time_out);
					hours = ChronoUnit.HOURS.between(time_in, time_out);
					myMap.put("Time there: ",hours+"h " + minutes + "m");
				}
			} else {
				myMap.put("Status for " + name + " age of " + age + " is: ", "The student was non-precent in class!");
			}
			for (Map.Entry<String, String> entry : myMap.entrySet()) {
			    System.out.println(entry);
			}
		}
		
		public void in(){
			is_in = true;
			been_there = true;
			time_in = LocalDateTime.now();
		}
		
		public void out(){
			is_in = false;
			time_out = LocalDateTime.now();
		}
		
		public void set_name(String name){
			this.name = name;
		}
		
		public void set_age(int age){
			this.age = age;
		}
		
	}
	public static void main(String[] args){
		Map<String, Student> total_info = new HashMap<String, Student>();
		Student[] some_setup = new Student[5];
		for(int i = 0;i < some_setup.length;i++){
			System.out.println(some_setup[i]);
		}
		total_info.put("Ivan", some_setup[0]);
		total_info.put("petar", some_setup[1]);
		total_info.put("Grigor", some_setup[2]);
		total_info.put("Denis", some_setup[3]);
		total_info.put("Momo", some_setup[4]);
		for (Map.Entry<String, Student> entry : total_info.entrySet()) {
			//entry.getValue().set_name(entry.getKey());
			System.out.println(entry);
		}
		
		some_setup[0].set_age(22);
		some_setup[0].info();
		
		/*
		
		int i = 0;
		final Scanner in = new Scanner(System.in);
		while(true){
			final String student = in.next();
			String[] some_info;
			some_info = student.split(".");
			if ((i == 30) || (some_info[0].equals("close"))){
				break;
			}
			name_of_student = some_info[0];
		}
		
		in.close();
		*/
	}
}
